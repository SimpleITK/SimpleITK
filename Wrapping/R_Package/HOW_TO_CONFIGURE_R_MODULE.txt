
1) Enable WRAP_R in the CMake configuration of SimpleITK.


2) Configure and Build.


3) Go to the binary directory {SIMPLEITK_BINARY_DIR}

   All the following commands assume that you stay in this directory.


4) launch R


5) inside R type:

package.skeleton(name="SimpleITK", code_files="Wrapping/SimpleITK.R")

this will create a directory named SimpleITK with
the content:

                DESCRIPTION
                libs
                R
                Read-and-delete-me
                src

6) Copy the file

       SimpleITK/Wrapping/R_Package/DESCRIPTION

   into the current

       SimpleITK/DESCRIPTION


7) Quit R


8) Verify that the file

      Wrapping/SimpleITK.R

   was copied to the new SimpleITK/R directory


9) Add to that same directory "SimpleITK/R" another file zzz.R with the content

   .First.lib <- function(lib,pkg) {
      library.dynam("SimpleITK.so",pkg,lib)
     }


10) Create a destination directory

     mkdir -p  ~/R/x86_64-pc-linux-gnu-library/2.10/


11) type

R CMD INSTALL -l ~/R/x86_64-pc-linux-gnu-library/2.10/ SimpleITK

   This should create a "SimpleITK" directory in

      ~/R/x86_64-pc-linux-gnu-library/2.10


12) Create a subdirectory "libs" in that destination:

      mkdir ~/R/x86_64-pc-linux-gnu-library/2.10/libs


13) copy the shared library in the new installation

 cp bin/libSimpleITK.so ~/R/x86_64-pc-linux-gnu-library/2.10/SimpleITK/libs/SimpleITK.so

    Note the change of name from "libSimpleITKR.so" to "SimpleITK.so"


14) Set the environment variable R_LIBS_USER  to

         ~/R/x86_64-pc-linux-gnu-library/2.10


15) Run the example

     cp  SimpleITK/Testing/Data/Input/STAPLE1.png .
     R -f SimpleITK/Examples/SimpleGaussian.R

    you shouldn now find in the local directory
    a file with name

               smoothedSTAPLE1.mhd


16) Run the "R" tests


             ctest -R  "R\."   -V



---------------------------------------------

Installin R in Ubuntu

install the following packages:

  dpatch libbz2-dev patchutils r-base-core r-base-dev r-base-html r-base-latex r-cran-boot r-cran-cluster r-cran-codetools r-cran-foreign r-cran-kernsmooth r-cran-lattice r-cran-matrix r-cran-mgcv r-cran-nlme r-cran-rpart
  r-cran-survival r-cran-vr r-recommended


suggested:

  ess r-doc-info r-doc-pdf r-doc-html r-mathlib cdbs debhelper

