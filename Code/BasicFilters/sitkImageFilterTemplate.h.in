#ifndef __sitk${name}ImageFilter_h
#define __sitk${name}ImageFilter_h

#include "sitkDualImageFilter.h"
$(if include_files and #include_files > 0 then
OUT = [[// Additional include files
$(for i=1,#include_files do OUT = OUT .. '#include "' .. include_files[i] .. '"' if i < #include_files then OUT = OUT .. '\n' end end)
// Done with additional include files]]
end)



namespace itk {
  namespace simple {

    class ${name}ImageFilter : public $(if number_of_inputs == 2 then OUT=[[DualImageFilter]] else OUT=[[ImageFilter]] end) {
    public:
      typedef ${name}ImageFilter Self;

      /**
         ${doc}
      */

      /**
       * Default Constructor that takes no arguments and initializes
       * default parameters
       */
      ${name}ImageFilter();

      typedef ${pixel_types}  PixelIDTypeList;

      $(foreach members 
      /** ${doc} */
      Self& Set${name} ( ${type} t ) $(if type == "itk::simple::Index::Pointer" then
        OUT = [[ {
        for (unsigned int i = 0; i < this->m_${name}->GetDimension(); ++i)
          {
          this->m_${name}->SetComponent( i, t->GetComponent( i ) );
          }
        return *this;
        };
        ]]
        else
        OUT = [[{ this->m_${name} = t; return *this; };]]
        end)
      ${type} Get${name}() { return this->m_${name}; };
      )
      // Print ourselves out
      std::string ToString() const;

      Image::Pointer Execute ( Image::Pointer $(if number_of_inputs == 2 then OUT=[[, Image::Pointer]] end) );
      $(if members and #members > 0 then
        OUT=[[Image::Pointer Execute ( Image::Pointer $(if number_of_inputs == 2 then OUT=', Image::Pointer' end) $(foreach members ,${type} in${name} ) );]]
      end)
      
    private:

      $(if number_of_inputs == 2 then OUT=[[sitkDualImageMemberFunctionDispatcher;]] else OUT=[[sitkSingleImageMemberFunctionDispatcher;]] end)
      $(foreach members 
      ${type} m_${name};
      )

    };


  }
}
#endif
